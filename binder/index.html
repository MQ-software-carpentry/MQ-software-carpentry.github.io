<html>
 <body>
<h2 style="text-align:center">Binder Redirector - v1.1</h2>


<script> 
 
  // Redirect to Binder Launch page based on information in the referrer url
 
  referrer = document.referrer.split('/');
 
  site = referrer[2];
  user = referrer[3];
  repo = referrer[4];
  extra = document.URL.replace(/.*\//, '')
 
  // for the moment we will assume we are using github to host the repo and we want the master branch
  launch = 'http://mybinder.org/v2/gh/' + user + '/' + repo + '/master' + extra;

  console.log('site: ', site, '\n');
  console.log('user: ', user, '\n');
  console.log('repo: ', repo, '\n');
  console.log('launch: ', launch, '\n');

  //setTimeout(function(){ alert('Redirect ?'); window.location.href = launch;}, 2000);
  //window.location.href = launch;

</script>
  
  <br><br><br>
  
  <h3 style="text-align:center">
  Binder Link:
  <script>
    document.write('<a href="'+launch+'">");
    document.write(launch, "</a>");
  </script>
  
  </h3>
  
  
 </body>
</html>
