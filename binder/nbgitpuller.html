<html>
 <body>
  
 <br><br><br>
  
<h1 style="text-align:center">Binder Redirector - v1.4 (nbgitpuller)</h2>

<script> 
 
  // Redirect to Binder Launch page based on information in the referrer url
 
  referrer = document.referrer.split('/');
 
  site = referrer[2];
  user = referrer[3];
  repo = referrer[4];
  target =  document.URL.replace(/.*?target=/, '')
  extra = document.URL.replace(/.*\//, '')
 
  // for the moment we will assume we are using github to host the repo and we want the master branch
  // launch = 'http://mybinder.org/v2/gh/' + user + '/' + repo + '/master' + extra;

  env_repo = 'https://mybinder.org/v2/gh/MQ-software-carpentry/environment-r-tidyverse/master?urlpath=git-pull%3Frepo%3D'
  launch = env_repo + 'https%253A%252F%252Fgithub.com%252F' + user + '%252F' + repo + '%26urlpath%3Drstudio%252F%26branch%3Dmaster'
  launch = target.replace(/USER/, user).replace(/REPO/, repo);
 
 
  console.log('site: ', site, '\n');
  console.log('user: ', user, '\n');
  console.log('repo: ', repo, '\n');
  // console.log('extra: ', extra, '\n');
  // console.log('target: ', target, '\n');
  // console.log('launch: ', launch, '\n');

  //setTimeout(function(){ alert('Redirect ?'); window.location.href = launch;}, 2000);
  //setTimeout(function(){ window.location.href = launch;}, 10000);
  //window.location.href = launch;

</script>
  
  <br><br><br>
  
  <p style="text-align:center; font-family: Arial, Helvetica, sans-serif;">
  Binder Link:
  <script>
    document.write('<a href="'+launch+'">');
    document.write(launch, '</a>');
  </script>
  
  </p>
  
  
 </body>
</html>
Â© 2020 GitHub, Inc.
